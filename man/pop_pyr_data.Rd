% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/pop_pyr.R
\name{pop_pyr_data}
\alias{pop_pyr_data}
\title{Generate Population Pyramid Data}
\usage{
pop_pyr_data(location, year, variant = c("Median", "all"))
}
\arguments{
\item{location}{A character or numeric input specifying the location. This can be:
\itemize{
\item ISO3 code (e.g., "BRA" for Brazil)
\item ISO2 code (e.g., "BR")
\item A numeric \code{locationId} (e.g., 76 for Brazil)
\item The name of the location (e.g., "Brazil").
}}

\item{year}{A character or numeric input specifying the year. This can be:
\itemize{
\item The year label (e.g., "2020").
\item The \code{timeMid} value (e.g., 2020).
}}
}
\value{
A dataframe containing the processed population data, including the following columns:
\itemize{
\item \code{ageId}: Age group ID.
\item \code{sexId}: Sex ID (1 for Male, 2 for Female).
\item \code{sexage_population}: Population count for each sex and age group (negative for males, positive for females).
\item \code{total_population}: Total population across all groups.
\item \code{relative_population}: Proportional population for each group relative to the total population.
\item \code{age_f}: Factorized age group for visualization.
\item \code{sex_f}: Factorized sex group for visualization.
}
}
\description{
The \code{pop_pyr_data} function retrieves and processes population data for a given location and year
from the World Population Prospects database. It returns a dataset formatted for creating
population pyramid visualizations.
}
\details{
The function retrieves data from a SQLite database (\code{population_data.sqlite}) included in the package.
The database must include the required tables:
\itemize{
\item \code{locations}: Contains location information.
\item \code{times}: Contains temporal data.
\item \code{data_population_age5_and_sex}: Contains population data by age and sex.
}
}
\examples{
# Generate population pyramid data for Brazil in 2020
data <- pop_pyr_data("Brazil", 2000)
head(data)

}
